<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>File: README.txt</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href=".././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



  <div id="fileHeader">
    <h1>README.txt</h1>
    <table class="header-table">
    <tr class="top-aligned-row">
      <td><strong>Path:</strong></td>
      <td>README.txt
      </td>
    </tr>
    <tr class="top-aligned-row">
      <td><strong>Last Update:</strong></td>
      <td>Sun Mar 22 18:32:22 -0500 2009</td>
    </tr>
    </table>
  </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <p>
grackle
</p>
<pre>
    by Hayes Davis
    http://www.appozite.com
    http://hayesdavis.net
</pre>
<h2>DESCRIPTION:</h2>
<p>
<a href="../classes/Grackle.html">Grackle</a> is a lightweight Ruby wrapper
around the Twitter REST and Search APIs. It&#8216;s based on my experience
using the Twitter API to build <a
href="http://cheaptweet.com">cheaptweet.com</a>. The main goal of <a
href="../classes/Grackle.html">Grackle</a> is to never require a release
when the Twitter API changes (which it often does) or in the face of a
particular Twitter API bug. As such it is somewhat different from other
Twitter API libraries. It does not try to hide the Twitter
&quot;methods&quot; under an access layer nor does it introduce concrete
classes for the various objects returned by Twitter. Instead, calls to the
<a href="../classes/Grackle.html">Grackle</a> client map directly to
Twitter API URLs. The objects returned by API calls are generated as
OpenStructs on the fly and make no assumptions about the presence or
absence of any particular attributes. Taking this approach means that
changes to URLs used by Twitter, parameters required by those URLs or
return values will not break require a new release. It will potentially
require, however, some modifications to your code that uses <a
href="../classes/Grackle.html">Grackle</a>.
</p>
<h2>USING GRACKLE</h2>
<h3>Creating a <a href="../classes/Grackle/Client.html">Grackle::Client</a></h3>
<pre>
  require 'grackle'
  client = Grackle::Client(:username=&gt;'your_user',:password=&gt;'yourpass')
</pre>
<p>
See <a href="../classes/Grackle/Client.html">Grackle::Client</a> for more
information about valid arguments to the constructor including for custom
headers and SSL.
</p>
<h3><a href="../classes/Grackle.html">Grackle</a> Method Syntax</h3>
<p>
<a href="../classes/Grackle.html">Grackle</a> uses a method syntax that
corresponds to the Twitter API URLs with a few twists. Where you would have
a slash in a Twitter URL, that becomes a &quot;.&quot; in a chained set of
<a href="../classes/Grackle.html">Grackle</a> method calls. Each call in
the method chain is used to build Twitter URL path until a particular call
is encountered which causes the request to be sent. Methods which will
cause a request to be execute include:
</p>
<pre>
  *A method call ending in &quot;?&quot; will cause an HTTP GET to be executed
  *A method call ending in &quot;!&quot; will cause an HTTP POST to be executed
  *If a valid format such as .json, .xml, .rss or .atom is encounted, a get will be executed with that format
  *A format method can also include a ? or ! to determine GET or POST in that format respectively
</pre>
<h3>GETting Data</h3>
<p>
Invoking the API method &quot;/users/show&quot; in XML format for the
Twitter user &quot;some_user&quot; looks like
</p>
<pre>
  client.users.show.xml :id=&gt;'some_user' #http://twitter.com/users/show.xml?id=some_user
</pre>
<p>
Or using the JSON format:
</p>
<pre>
  client.users.show.json :id=&gt;'some_user' #http://twitter.com/users/show.json?id=some_user
</pre>
<p>
Or, since Twitter also allows certain ids to be part of their URLs, this
works:
</p>
<pre>
  client.users.show.some_user.json #http://twitter.com/users/show/some_user.json
</pre>
<p>
The client has a default format of :json so if you want to use the above
call with the default format you can do:
</p>
<pre>
  client.users.show.some_user? #http://twitter.com/users/show/some_user.json
</pre>
<p>
If you include a &quot;?&quot; at the end of any method name, that signals
to the <a href="../classes/Grackle.html">Grackle</a> client that you want
to execute an HTTP GET request.
</p>
<h3>POSTing data</h3>
<p>
To use Twitter API methods that require an HTTP POST, you need to end your
method chain with a bang (!)
</p>
<p>
For example, to update the authenticated user&#8216;s status using the XML
format:
</p>
<pre>
  client.statuses.update.xml! :status=&gt;'this status is from grackle' #POST to http://twitter.com/statuses/update.xml
</pre>
<p>
Or, with JSON
</p>
<pre>
  client.statuses.update.json! :status=&gt;'this status is from grackle' #POST to http://twitter.com/statuses/update.json
</pre>
<p>
Or, using the default format
</p>
<pre>
  client.statuses.update! :status=&gt;'this status is from grackle' #POST to http://twitter.com/statuses/update.json
</pre>
<h3>Search</h3>
<p>
Search works the same as everything else but your queries get submitted to
search.twitter.com
</p>
<pre>
  client.search? :q=&gt;'grackle' #http://search.twitter.com/search.json?q=grackle
</pre>
<p>
Or with a format:
</p>
<pre>
  client.search.xml :q=&gt;'grackle' #http://search.twitter.com/search.xml?q=grackle
  client.search.json :q=&gt;'grackle' http://search.twitter.com/search.json?q=grackle
</pre>
<h3>Parameter handling</h3>
<pre>
  *All parameters are URL encoded as necessary.
  *If you use a File object as a parameter it will be POSTed to Twitter in a multipart request.
  *If you use a Time object as a parameter, .httpdate will be called on it and that value will be used
</pre>
<h3>Return Values</h3>
<p>
Regardless of the format used, <a
href="../classes/Grackle.html">Grackle</a> returns a <a
href="../classes/Grackle/TwitterStruct.html">Grackle::TwitterStruct</a>
(which is mostly just an OpenStruct) of data. The attributes available on
these structs correspond to the data returned by Twitter.
</p>
<h3>Dealing with Errors</h3>
<p>
If the request to Twitter does not return a status code of 200, then a
TwitterError is thrown. This contains the HTTP method used, the full
request URI, the response status, the response body in text and a response
object build by parsing the formatted error returned by Twitter. It&#8216;s
a good idea to wrap your API calls with rescue clauses for <a
href="../classes/Grackle/TwitterError.html">Grackle::TwitterError</a>.
</p>
<h3>Formats</h3>
<p>
Twitter allows you to request data in particular formats. <a
href="../classes/Grackle.html">Grackle</a> currently supports JSON and XML.
The <a href="../classes/Grackle/Client.html">Grackle::Client</a> has a
default_format you can specify. By default, the default_format is :json. If
you don&#8216;t include a named format in your method chain as described
above, but use a &quot;?&quot; or &quot;!&quot; then the
Grackle::Client.default_format is used.
</p>
<h2>REQUIREMENTS:</h2>
<p>
You&#8216;ll need the following gems to use all features of <a
href="../classes/Grackle.html">Grackle</a>:
</p>
<pre>
  *json_pure
  *httpclient
</pre>
<h2>INSTALL:</h2>
<p>
sudo gem install grackle
</p>
<h2>LICENSE:</h2>
<p>
(The MIT License)
</p>
<p>
Copyright (c) 2009
</p>
<p>
Permission is hereby granted, free of charge, to any person obtaining a
copy of this software and associated documentation files (the
&#8216;Software&#8217;), to deal in the Software without restriction,
including without limitation the rights to use, copy, modify, merge,
publish, distribute, sublicense, and/or sell copies of the Software, and to
permit persons to whom the Software is furnished to do so, subject to the
following conditions:
</p>
<p>
The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.
</p>
<p>
THE SOFTWARE IS PROVIDED &#8216;AS IS&#8217;, WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
USE OR OTHER DEALINGS IN THE SOFTWARE.
</p>

    </div>


   </div>


  </div>


    <!-- if includes -->

    <div id="section">





      


    <!-- if method_list -->


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>